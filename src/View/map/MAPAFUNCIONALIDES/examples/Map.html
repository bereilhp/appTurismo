<!DOCTYPE html>
<html>
<head>
    <title>Madway</title>
    <meta charset="utf-8" />       
    <script src="https://code.jquery.com/jquery-1.12.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.2/leaflet.js"></script>
    <script src="https://code.jquery.com/ui/1.8.24/jquery-ui.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.2/leaflet.css" rel="stylesheet" />
    <script src="../dist/leaflet.customsearchbox.min.js"></script>
    <link href="../dist/searchbox.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../src/leaflet.legend.css" />
    <script type="text/javascript" src="../src/leaflet.legend.js"></script>

    <script src="geolet.js"></script>
    <script>

        

     $(document).ready(function () {
        
        var map = L.map('map').setView([40.416775, -3.703790], 12);
        map.zoomControl.setPosition('topright');
        map.addLayer(new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            {attribution:'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}
            ));

        L.geolet({
			position: 'bottomleft'
		}).addTo(map);

        L.control.Legend({
            position: "bottomright",
                legends: [{
                    label: " Restaurants",
                    type: "image",
                    url: "marker/marker-red.png",
            }]
        }).addTo(map);

        var IconoMonumento = L.icon({
            iconUrl: "https://img.icons8.com/external-xnimrodx-lineal-color-xnimrodx/344/external-location-banking-and-financial-xnimrodx-lineal-color-xnimrodx.png",
            iconSize: [40, 40],
            iconAnchor: [15, 40],
            shadowUrl: "https://vivaelsoftwarelibre.com/wp-content/uploads/2020/05/icono_sombra.png",
             shadowSize: [35, 50],
            shadowAnchor: [0, 55],
            popupAnchor: [0, -40]
        });


        var searchboxControl=createSearchboxControl();
        var control = new searchboxControl({
            sidebarTitleText: 'MadWay',
            sidebarMenuItems: {
                Items: [
                    { type: "link", name: "Link 1 (github.com)", href: "http://github.com", icon: "icon-local-carwash" },
                    { type: "button", name: "Restaurants and bars ", href: "http://google.com", icon: "icon-cloudy" },
                    { type: "button", name: "Button 1", onclick: "alert('button 1 clicked !')", icon: "icon-potrait" },
                    { type: "button", name: "Restaurants and bars ", onclick: "L.marker([40.41395, -3.69215]).addTo(map);", icon: "icon-local-dining" },
                    { type: "link", name: "Link 3 (stackoverflow.com)", href: 'http://stackoverflow.com', icon: "icon-bike" },

                ]
            }
        });

        control._searchfunctionCallBack = function (searchkeywords)
        {
            if (!searchkeywords) {
                searchkeywords = "The search call back is clicked !!"
            }
            alert(searchkeywords);
        }

        map.addControl(control);
    });
    
    function button2_click()
    {

       
        var map = L.map('map').setView([40.416775, -3.703790], 12);
        map.zoomControl.setPosition('topright');
        map.addLayer(new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            {attribution:'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}
            ));
        var marker = L.marker([40.41395, -3.69215]).addTo(map);

    }

    </script>
    
</head>

<body style="top:0;left:0; right:0;bottom:0; position:absolute">
    <div id="map"  style="width:100%;height:100%"></div>      
</body>
</html>